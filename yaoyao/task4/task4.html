<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>小方块（一）</title>
	<style>
		*{
			box-sizing: border-box;
		}
		body{
			font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
			font-size: 16px;
			background-color: #000;
		}
		div.container{
			width: 500px;
			background-color: #fff;
			margin: 200px auto;
			border-radius: 5px;
			font-size: 1.2em;
	    padding: 25px;
		}
		#main{
			position: relative;
			text-align: center;
		}
		table{
			margin: 0 auto;
		  border-collapse:collapse;
		}
		tr,td{
			width: 30px;
			height: 30px;
			text-align: center;
		}
		tbody.body-cell{
			position: absolute;
			left: 89px;
			top: 29px;
		}
		div#move-red{
			width: 29px;
			height: 29px;
			background-color: red;
			position: absolute;
			left: 90px;
			top: 30px;
		}
		span#move-blue{
			display: block;
			width: 100%;
			height: 6px;
			background-color: blue;
		}
		div#buttons{
			margin: 20px;
		}
		button{
			cursor: pointer;
		}
	</style>
</head>
<body>
	<div class="container">
		<div id="main">
			<table>
				<tbody>
					<tr>
						<td></td>
						<td>1</td>
						<td>2</td>
						<td>3</td>
						<td>4</td>
						<td>5</td>
						<td>6</td>
						<td>7</td>
						<td>8</td>
						<td>9</td>
						<td>10</td>
					</tr>
					<tr><td>1</td></tr>
					<tr><td>2</td></tr>
					<tr><td>3</td></tr>
					<tr><td>4</td></tr>
					<tr><td>5</td></tr>
					<tr><td>6</td></tr>
					<tr><td>7</td></tr>
					<tr><td>8</td></tr>
					<tr><td>9</td></tr>
					<tr><td>10</td></tr>
				</tbody>
			</table>
			<table border="1">
				<tbody class="body-cell">
					<tr>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
						<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
					<tr>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
							<td></td>
					</tr>
				</tbody>
			</table>
			<div id="move-red">
				<span id="move-blue"></span>
			</div>
			<div id="buttons">
				<button id="go">走</button>
				<button id="tleft">左转</button>
				<button id="tright">右转</button>
				<button id="tback">掉头</button>
			</div>
		</div>
	</div>
	<script>
		var block = document.getElementById('move-red');
		var btns = document.getElementById('buttons');
		var blockBlue = document.getElementById('move-blue');
		var leftInit = block.offsetLeft;
		var topInit = block.offsetTop;
		var leftX = 0, topY = 0;
		function move() {
			switch(direction) {
				case "t" : topY <= 0 ? alert("已经到边缘了，请换个方向！") : topY--; break;
				case "r" : leftX >= 9 ? alert("已经到边缘了，请换个方向！") : leftX++; break;
				case "b" : topY >= 9 ? alert("已经到边缘了，请换个方向！") : topY++; break;
				case "l" : leftX <= 0 ? alert("已经到边缘了，请换个方向！") : leftX--; break;
			}
			block.style.left =(leftInit + leftX*30) + 'px';
			block.style.top = (topInit + topY*30) + 'px';
		}

		var angle = 0, direction = "t";
		btns.addEventListener("click",function(e){
			switch(e.target.id) {
				case "go" :
					move()
					break;
				case "tleft" :
					switch(direction) {
						case "t" : direction = "l"; break;
						case "r" : direction = "t"; break;
						case "b" : direction = "r"; break;
						case "l" : direction = "b"; break;
					}
					angle -= 90;
					block.style.transform = 'rotate('+angle+'deg)';
					break;
				case "tright" :
					switch(direction) {
						case "t" : direction = "r"; break;
						case "r" : direction = "b"; break;
						case "b" : direction = "l"; break;
						case "l" : direction = "t"; break;
					}
					angle += 90;
					block.style.transform = 'rotate('+angle+'deg)';
					break;
				case "tback" :
					switch(direction) {
						case "t" : direction = "b"; break;
						case "r" : direction = "l"; break;
						case "b" : direction = "t"; break;
						case "l" : direction = "r"; break;
					}
					angle += 180;
					block.style.transform = 'rotate('+angle+'deg)';
					break;
			}
		},false)
	</script>
</body>
</html>